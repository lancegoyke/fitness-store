{% extends '_base.html' %}
{% load crispy_forms_tags %}

{% block title %}
  Challenges | {% include "_site_title.html" %}
{% endblock title %}

{% block content %}
  <div class="with-sidebar">
    <div>
      <div class="box">
        <div class="stack">
          <div>
            <h3>Search and sort</h3>
            <div class="stack-form">
              <form action="" method="get">
                {{ filter.form|crispy }}
                <div class="cluster">
                  <div>
                    <input class="button" type="submit" value="Submit" />
                    <a class="button outline" href="{% url 'challenge_filtered_list' %}">Clear</a>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <div>
            <h4>Filter by tag</h4>
            <div class="cluster categories">
              <div>
                {% for tag in tag_list %}
                  <a class="tag" href="{% url 'challenge_tag_filtered_list' tag.slug %}">
                    {{ tag.name }}
                  </a>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div>
        <h2>Pick a Challenge</h2>
        <div class="stack">
          {% for challenge in filter.qs %}
            <div class="card-box">
              <div class="box">
                <h3>
                  <a href="{{ challenge.get_absolute_url }}">{{ challenge.name }}</a>
                </h3>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
